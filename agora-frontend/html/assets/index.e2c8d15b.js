var h=Object.defineProperty,g=Object.defineProperties;var A=Object.getOwnPropertyDescriptors;var l=Object.getOwnPropertySymbols;var y=Object.prototype.hasOwnProperty,w=Object.prototype.propertyIsEnumerable;var m=(e,t,o)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,d=(e,t)=>{for(var o in t||(t={}))y.call(t,o)&&m(e,o,t[o]);if(l)for(var o of l(t))w.call(t,o)&&m(e,o,t[o]);return e},_=(e,t)=>g(e,A(t));import{d as I,c as k,a as E,r as R,o as L,b as C,e as O,f as P,g as T,h as b,A as U}from"./vendor.b7c4c48f.js";const $=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function o(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(r){if(r.ep)return;r.ep=!0;const s=o(r);fetch(r.href,s)}};$();var x=(e,t)=>{const o=e.__vccOpts||e;for(const[n,r]of t)o[n]=r;return o};const S=I({name:"App",setup(){return{}}}),D={class:"h-screen flex flex-col"};function V(e,t,o,n,r,s){const a=R("router-view");return L(),k("main",D,[E(a)])}var N=x(S,[["render",V]]);const q="modulepreload",f={},M="/",c=function(t,o){return!o||o.length===0?t():Promise.all(o.map(n=>{if(n=`${M}${n}`,n in f)return;f[n]=!0;const r=n.endsWith(".css"),s=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${s}`))return;const a=document.createElement("link");if(a.rel=r?"stylesheet":q,r||(a.as="script",a.crossOrigin=""),a.href=n,document.head.appendChild(a),r)return new Promise((u,i)=>{a.addEventListener("load",u),a.addEventListener("error",()=>i(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>t())};function j(e){switch(e){case"../views/home.vue":return c(()=>import("./home.96e7ba46.js"),["assets/home.96e7ba46.js","assets/home.c6dda771.css","assets/vendor.b7c4c48f.js"]);case"../views/live-audience-room.vue":return c(()=>import("./live-audience-room.22fcc836.js"),["assets/live-audience-room.22fcc836.js","assets/live-audience-room.c4329b2e.css","assets/vendor.b7c4c48f.js","assets/agora.7bd83832.js"]);case"../views/live-room.vue":return c(()=>import("./live-room.218e9f0f.js"),["assets/live-room.218e9f0f.js","assets/live-room.4577510a.css","assets/layout.e9a8ad53.js","assets/layout.07ac788f.css","assets/agora.7bd83832.js","assets/vendor.b7c4c48f.js"]);case"../views/notfound.vue":return c(()=>import("./notfound.1e3bb0c0.js"),["assets/notfound.1e3bb0c0.js","assets/vendor.b7c4c48f.js"]);case"../views/test-room.vue":return c(()=>import("./test-room.e2371bf9.js"),["assets/test-room.e2371bf9.js","assets/vendor.b7c4c48f.js","assets/agora.7bd83832.js"]);case"../views/videocall-room.vue":return c(()=>import("./videocall-room.73dcc092.js"),["assets/videocall-room.73dcc092.js","assets/videocall-room.9ecace9f.css","assets/vendor.b7c4c48f.js","assets/agora.7bd83832.js","assets/layout.e9a8ad53.js","assets/layout.07ac788f.css"]);default:return new Promise(function(t,o){(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(o.bind(null,new Error("Unknown variable dynamic import: "+e)))})}}const B=[{path:"/",name:"home"},{path:"/videocall",name:"videocall-room"},{path:"/live-audience",name:"live-audience-room"},{path:"/live",name:"live-room"},{path:"/test",name:"test-room"},{path:"/:pathMatch(.*)*",name:"notfound"}],F=B.map(e=>_(d({},e),{component:()=>j(`../views/${e.name}.vue`)})),W=C({history:O("/"),routes:F}),p=P.create({baseURL:"https://backend.mingchejay.page/"});p.interceptors.request.use(e=>(e.headers={"Content-Type":"application/json; charset=UTF-8","Access-Control-Allow-Origin":"*"},console.log(e.data),e));const H=({url:e="",method:t="get",data:o={}})=>{let n;return n=p[t](e,o),n},K=(e,t,o)=>H({url:"/fetch_rtc_token",method:"post",data:{uid:parseInt(e),channelName:t,role:o}}),z={state:{createAgoraInfo:{uid:"",token:"",channel:"",mode:"",role:0},remoteUsers:[]},getters:{isAuth:e=>!!e.createAgoraInfo.token,getRemoteUses:e=>e.remoteUsers},mutations:{setCreateAgoraInfo(e,t){e.createAgoraInfo=t},setAgoraToken(e,t){e.createAgoraInfo.token=t},resetCreateAgoraInfo(e){e.createAgoraInfo={uid:"",token:"",channel:"",mode:"",role:0}},m_setRemoteUser(e,t){e.remoteUsers.push(t)},m_remoteRemoteUser(e,t){e.remoteUsers.filter(o=>t!==o.uid)}},actions:{a_getCreateAgoraInfo(e,t){const{uid:o,channel:n,mode:r,role:s}=t;return new Promise((a,u)=>{K(o,n,s).then(i=>{const v={uid:o,token:i.data.token,channel:n,mode:r,role:s};e.commit("setCreateAgoraInfo",v),a(i)}).catch(i=>{u(i)})})}}},G={state:{testnum:1},mutations:{m_testaddnum(e){e.testnum++}},actions:{}};var J=T({modules:{test:G,agora:z}});b(N).use(W).use(U).use(J).mount("#app");export{x as _,K as g,J as s};
